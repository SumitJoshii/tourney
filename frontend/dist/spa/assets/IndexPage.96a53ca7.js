import{Q as x}from"./QImg.749960d8.js";import{Q as c,u as C,a as Q,b as f,c as D,d as q,e as v,f as S,g as N}from"./tournament.292b4dc9.js";import{Q as I,a as T}from"./QBtn.43084180.js";import{d as k,y as R,r as s,o as h,A as B,B as U,C as n,D as t,f as a,E as A}from"./index.5cf026e6.js";import"./QSpinner.d7ece43c.js";import"./axios.7ec2eaec.js";var E="/assets/info.6ace5f2b.png";const O={class:"q-pa-md q-mt-lg",style:{margin:"auto","min-width":"600px","max-width":"900px","margin-top":"20px"}},P={style:{display:"flex",height:"25px"}},J=k({__name:"IndexPage",setup(F){const b=R(),m=C(),i=s([]),u=s(!1),g=new Date,o=s({name:"",number_of_teams:0,type:{name:"",description:""},start_date:g.toISOString().split("T")[0],end_date:g.toISOString().split("T")[0],is_finished:!1,winner:null}),d=s([]),p=s("");h(async()=>{i.value=await m.getTournamentTypes(),d.value=await m.getTournaments(),console.log("All tournaments: ",d.value),console.log("Tournament options: ",i.value)});const y=async()=>{u.value=!0},w=async()=>{u.value=!1;const r=await m.createTournament(o.value);b.push({name:"tournament/TournamentDetails",params:{id:r.id}})},V=async(r,e)=>{b.push({name:"tournament/TournamentDetails",params:{id:e.id}})},_=[{name:"id",required:!0,label:"ID",align:"center",field:"id",sortable:!0},{name:"name",required:!0,label:"Name",align:"center",field:"name",sortable:!0},{name:"start_date",align:"center",label:"Start Date",field:"start_date"},{name:"end_date",align:"center",label:"End Date",field:"end_date"},{name:"number_of_teams",align:"center",label:"No. Of Teams",field:"number_of_teams",sortable:!0},{name:"type",align:"center",label:"Type",field:r=>r.type.name,sortable:!0}];return(r,e)=>(B(),U(c,{class:"q-pl-md",style:{margin:"auto",width:"70%","overflow-y":"auto"}},{default:n(()=>[t("div",O,[a(D,{flat:"",bordered:"",rows:d.value,columns:_,"row-key":"id",filter:p.value,onRowClick:V},{"top-left":n(()=>[t("div",P,[e[7]||(e[7]=t("div",{style:{"font-size":"large"}},"Tournaments",-1)),t("div",null,[a(x,{src:E,ratio:1,style:{height:"15px",width:"15px","margin-left":"4px","margin-top":"4px"}}),a(Q,null,{default:n(()=>e[6]||(e[6]=[t("p",null," There are quite a few different ways to run tournaments, but there are about 5 formats that are far more popular than the rest. ",-1),t("ul",null,[t("li",null,"Single Elimination Tournament"),t("li",null,"Double Elimination Tournament"),t("li",null,"Round Robin"),t("li",null,"Double Round Robin"),t("li",null,"Consolation Tournaments")],-1)])),_:1})])])]),"top-right":n(()=>[a(f,{borderless:"",dense:"",debounce:"300",modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=l=>p.value=l),placeholder:"Search"},{append:n(()=>[a(I,{name:"search"})]),_:1},8,["modelValue"]),a(T,{class:"q-ml-md",color:"green",onClick:y},{default:n(()=>e[8]||(e[8]=[A("Create!")])),_:1})]),_:1},8,["rows","filter"])]),a(N,{modelValue:u.value,"onUpdate:modelValue":e[5]||(e[5]=l=>u.value=l)},{default:n(()=>[a(q,null,{default:n(()=>[e[9]||(e[9]=t("p",{class:"q-pa-md q-mb-xs text-center"},"Create a Tournament.",-1)),e[10]||(e[10]=t("hr",null,null,-1)),a(v,null,{default:n(()=>[a(f,{modelValue:o.value.name,"onUpdate:modelValue":e[1]||(e[1]=l=>o.value.name=l),label:"Tournament Name"},null,8,["modelValue"]),a(f,{type:"number",modelValue:o.value.number_of_teams,"onUpdate:modelValue":e[2]||(e[2]=l=>o.value.number_of_teams=l),label:"Number of Players"},null,8,["modelValue"]),a(S,{modelValue:o.value.type,"onUpdate:modelValue":e[3]||(e[3]=l=>o.value.type=l),options:i.value,"option-label":"name",label:"Tournament Type"},null,8,["modelValue","options"])]),_:1}),a(v,null,{default:n(()=>[a(T,{label:"Create",onClick:e[4]||(e[4]=l=>w())})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});export{J as default};
